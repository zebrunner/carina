


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/favicon.svg">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.2.2">
    
    
      
        <title>Web - Carina</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a2408e81.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="zebrunner" data-md-color-primary="" data-md-color-accent="">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#implementation-of-page-objects" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Carina" class="md-header-nav__button md-logo" aria-label="Carina">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Carina
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Web
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/zebrunner/carina/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    carina
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Carina" class="md-nav__button md-logo" aria-label="Carina">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    Carina
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/zebrunner/carina/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    carina
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting_started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../project_structure/" title="Project structure" class="md-nav__link">
      Project structure
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../execution/" title="Execution" class="md-nav__link">
      Execution
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Automation
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Automation" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Automation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Web
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Web" class="md-nav__link md-nav__link--active">
      Web
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#implementation-of-page-objects" class="md-nav__link">
    Implementation of Page Objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-ui-components" class="md-nav__link">
    Implementation of UI Components
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-context-annotation" class="md-nav__link">
    Implementation of Context annotation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-with-iframe" class="md-nav__link">
    Work with iframe
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-tests" class="md-nav__link">
    Implementation of tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-configuration" class="md-nav__link">
    Test configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#page-opening-strategy" class="md-nav__link">
    Page opening strategy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#element-loading-strategy" class="md-nav__link">
    Element loading strategy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    FAQ
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mobile/" title="Mobile" class="md-nav__link">
      Mobile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../windows/" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Advanced
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Advanced" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced/database/" title="Database" class="md-nav__link">
      Database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced/dataprovider/" title="DataProvider" class="md-nav__link">
      DataProvider
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced/driver/" title="Driver" class="md-nav__link">
      Driver
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced/mobile/" title="Mobile" class="md-nav__link">
      Mobile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced/localization/" title="Localization" class="md-nav__link">
      Localization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced/program_flow/" title="Program flow" class="md-nav__link">
      Program flow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced/proxy/" title="Proxy" class="md-nav__link">
      Proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced/screenshot/" title="Screenshot" class="md-nav__link">
      Screenshot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../advanced/security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Integration
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Integration" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration/zebrunner/" title="Zebrunner" class="md-nav__link">
      Zebrunner
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../cucumber/" title="Cucumber" class="md-nav__link">
      Cucumber
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contribution/" title="Contribution" class="md-nav__link">
      Contribution
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../migration/" title="Migration Guide (7.4.31 -> 1.0.0)" class="md-nav__link">
      Migration Guide (7.4.31 -> 1.0.0)
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../migration-1.1.5-1.2.6/" title="Migration Guide (1.1.5 -> 1.2.6)" class="md-nav__link">
      Migration Guide (1.1.5 -> 1.2.6)
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#implementation-of-page-objects" class="md-nav__link">
    Implementation of Page Objects
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-ui-components" class="md-nav__link">
    Implementation of UI Components
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-context-annotation" class="md-nav__link">
    Implementation of Context annotation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#work-with-iframe" class="md-nav__link">
    Work with iframe
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementation-of-tests" class="md-nav__link">
    Implementation of tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-configuration" class="md-nav__link">
    Test configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#page-opening-strategy" class="md-nav__link">
    Page opening strategy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#element-loading-strategy" class="md-nav__link">
    Element loading strategy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    FAQ
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/zebrunner/carina/edit/master/docs/automation/web.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                  <h1>Web</h1>
                
                <p>Carina framework follows Selenium best practices for web test automation. If you are familiar with Selenium WebDriver and have already implemented a few tests with the Page Object Pattern, the following guide will be much easier for understanding. We have chosen <a href="https://www.gsmarena.com/">GSM Arena</a> public web site for demonstration purposes, the whole test source code is located in <a href="https://github.com/zebrunner/carina-demo">carina-demo</a> Github repo.</p>
<h3 id="implementation-of-page-objects">Implementation of Page Objects</h3>
<p>When you are writing functional tests using Selenium, the major part of your code will consist of interactions with the web interface you are testing through the WebDriver API. After fetching elements, you will verify some state of an element through various assertions and move on to fetching the next element. You may find WebElements directly in your tests:</p>
<pre><code class="java">List&lt;WebElement&gt; zipCodes = driver.findElements(By.id(&quot;zipCodes&quot;));
for (WebElement zipCode : zipCodes) {
    if (zipCode.getText().equals(&quot;12345&quot;)){
        zipCode.click();
        break;
    }
}
WebElement city = driver.findElement(By.id(&quot;city&quot;));
assertEquals(&quot;MyCityName&quot;, city.getText());
</code></pre>

<p>Some of the typical problems for this type of Selenium tests are:</p>
<ul>
<li>Test cases are difficult to read</li>
<li>Changes in the UI break multiple tests, often in several places</li>
<li>Duplication of selectors both inside and across tests - no reuse</li>
</ul>
<p>So, instead of having each test fetch elements directly and being fragile towards the UI changes, the Page Object Pattern introduces what is basically a decoupling layer. </p>
<p>You create an object that represents the UI you want to test, which can be a whole page or a significant part of it. The responsibility of this object is to wrap HTML elements and encapsulate interactions with the UI, meaning that this is where all calls to WebDriver will go. This is where most WebElements are. And this is the only place you need to modify when the UI changes.</p>
<p><img alt="Page Object Pattern" src="../../img/page-objects.png" /></p>
<p>In general, Page Object contains locators of the elements situated on the page and some business logic that may be reused by different tests:</p>
<pre><code class="java">public class ModelInfoPage extends AbstractPage {
    @FindBy(css = &quot;.help-display strong&quot;)
    private ExtendedWebElement displayInfoLabel;

    @FindBy(css = &quot;.help-camera strong&quot;)
    private ExtendedWebElement cameraInfoLabel;

    @FindBy(css = &quot;.help-expansion strong&quot;)
    private ExtendedWebElement displayRamLabel;

    @FindBy(css = &quot;.help-battery strong&quot;)
    private ExtendedWebElement batteryInfoLabel;

    public ModelInfoPage(WebDriver driver) {
        super(driver);
    }

    public String readDisplay() {
        assertElementPresent(displayInfoLabel);
        return displayInfoLabel.getText();
    }

    public String readCamera() {
        assertElementPresent(cameraInfoLabel);
        return cameraInfoLabel.getText();
    }

    public String readRam() {
        assertElementPresent(displayRamLabel);
        return displayRamLabel.getText();
    }

    public String readBattery() {
        assertElementPresent(displayInfoLabel);
        return batteryInfoLabel.getText();
    }
}
</code></pre>

<p><strong>Important:</strong></p>
<ul>
<li>Page should extend <strong>com.zebrunner.carina.webdriver.gui.AbstractPage</strong></li>
<li>Use <strong>com.zebrunner.carina.webdriver.decorator.ExtendedWebElement</strong> instead of Selenium WebElement</li>
<li>Locate Page Object classes in <code>src/main/java</code></li>
</ul>
<h3 id="implementation-of-ui-components">Implementation of UI Components</h3>
<p>In some cases, it is useful to implement UI Objects that may be reused between multiple Page Objects. For instance, a top menu or footer may be shared between multiple pages:</p>
<pre><code class="java">public class FooterMenu extends AbstractUIObject {
    @FindBy(linkText = &quot;Home&quot;)
    private ExtendedWebElement homeLink;

    @FindBy(linkText = &quot;Compare&quot;)
    private ExtendedWebElement compareLink;

    public FooterMenu(WebDriver driver, SearchContext searchContext) {
        super(driver, searchContext);
    }

    public HomePage openHomePage() {
        homeLink.click();
        return new HomePage(driver);
    }

    public CompareModelsPage openComparePage() {
        compareLink.click();
        return new CompareModelsPage(driver);
    }
}
</code></pre>

<p>And then you can use this in Page Object:</p>
<pre><code class="java">public class HomePage extends AbstractPage {
    @FindBy(id = &quot;footmenu&quot;)
    private FooterMenu footerMenu;

    @FindBy(xpath = &quot;//div[contains(@class, 'brandmenu-v2')]//a&quot;)
    private List&lt;ExtendedWebElement&gt; brandLinks;

    public HomePage(WebDriver driver) {
        super(driver);
    }

    public FooterMenu getFooterMenu() {
        return footerMenu;
    }

    public BrandModelsPage selectBrand(String brand) {
        LOGGER.info(&quot;selecting '&quot; + brand + &quot;' brand...&quot;);
        for (ExtendedWebElement brandLink : brandLinks) {
            String currentBrand = brandLink.getText();
            LOGGER.info(&quot;currentBrand: &quot; + currentBrand);
            if (brand.equalsIgnoreCase(currentBrand)) {
                brandLink.click();
                return new BrandModelsPage(driver);
            }
        }
        throw new RuntimeException(&quot;Unable to open brand: &quot; + brand);
    }
}
</code></pre>

<p><strong>Important:</strong></p>
<ul>
<li>UI Object should extend <strong>com.zebrunner.carina.webdriver.gui.AbstractUIObject</strong></li>
<li>You should call the super constructor <strong>super(driver, searchContext)</strong> where searchContext is an instance of <strong>org.openqa.selenium.SearchContext</strong></li>
<li>Locate UI Object classes in <code>src/main/java</code> source folder</li>
</ul>
<h3 id="implementation-of-context-annotation">Implementation of Context annotation</h3>
<p>In some cases, it is useful to reduce elements locator by using @Context annotation.</p>
<p>For example, instead of using:</p>
<pre><code class="java">@FindBy(xpath = &quot;//div[@class='search-field']//input&quot;)
private ExtendedWebElement searchField;

@FindBy(xpath = &quot;//div[@class='search-field']//button&quot;)
private ExtendedWebElement searchButton;
</code></pre>

<p>We can aggregate the same locator into new element. Then we need refer to it in @Context annotation like this:</p>
<pre><code class="java">@FindBy(xpath = &quot;//div[@class='search-field']&quot;)
private ExtendedWebElement searchComp;

@Context(dependsOn = &quot;searchComp&quot;)
@FindBy(tagName = &quot;input&quot;)
private ExtendedWebElement searchField;

@Context(dependsOn = &quot;searchComp&quot;)
@FindBy(tagName = &quot;button&quot;)
private ExtendedWebElement searchButton;
</code></pre>

<p>With context annotation could be also created chains of elements dependency</p>
<pre><code class="java">@FindBy(id = &quot;news&quot;)
private ExtendedWebElement newsBlock;

@Context(dependsOn = &quot;newsBlock&quot;)
@FindBy(xpath = &quot;.//div[@class='news-item']&quot;)
private ExtendedWebElement newsItem;

@Context(dependsOn = &quot;newsItem&quot;)
@FindBy(tagName = &quot;h3&quot;)
private ExtendedWebElement newsTitle;
</code></pre>

<blockquote>
<p>@Context can also refer to element from super class by its name.</p>
</blockquote>
<p><strong>Referred element type could be:</strong></p>
<ul>
<li>ExtendedWebElement</li>
<li>Extends from AbstractUIObject</li>
</ul>
<p><strong>Elements type that are marked with @Context annotation could be:</strong></p>
<ul>
<li>ExtendedWebElement</li>
<li>Extends from AbstractUIObject</li>
<li>List &lt;ExtendedWebElement&gt;</li>
<li>List&lt;? extends AbstractUIObject&gt;</li>
</ul>
<h3 id="work-with-iframe">Work with iframe</h3>
<p>Before working with an iframe, you need to understand that an iframe is a separate page. Therefore, if we need to work with the internal structure of an iframe, we need to create a separate class for it inherited from AbstractPage, in which we already paint its internal structure, for example:</p>
<pre><code class="java">public class Frame extends AbstractPage {

    @FindBy(xpath = &quot;//div[@class='tag-of-element']&quot;)
    private ExtendedWebElement component;

    public Frame(WebDriver driver) {
        super(driver);
    }

    public void click() {
        component.click();
    }
}
</code></pre>

<p>Let's suppose the iframe is a page component or another component. Then we have to designate it as ExtendedWebElement, for example:</p>
<pre><code class="java">@FindBy(xpath = &quot;.//iframe&quot;)
private ExtendedWebElement iframe;
</code></pre>

<p>If we need to perform actions on iframe components, we can do:</p>
<pre><code class="java">Frame frame = new Frame(driver);
driver.switchTo().frame(iframe.getElement());
frame.click();
getDriver().switchTo().defaultContent();
</code></pre>

<h3 id="implementation-of-tests">Implementation of tests</h3>
<p>Carina framework uses TestNG for test organization. In general, a test represents a manipulation with Page Objects and additional validations of UI events. Here is a sample test implementation:</p>
<pre><code class="java">public class WebSampleTest implements IAbstractTest {
    @Test()
    @MethodOwner(owner = &quot;qpsdemo&quot;)
    public void testCompareModels() {
        // Open GSM Arena home page and verify page is opened
        HomePage homePage = new HomePage(getDriver());
        homePage.open();
        Assert.assertTrue(homePage.isPageOpened(), &quot;Home page is not opened&quot;);
        // Open model compare page
        FooterMenu footerMenu = homePage.getFooterMenu();
        Assert.assertTrue(footerMenu.isUIObjectPresent(2), &quot;Footer menu wasn't found!&quot;);
        CompareModelsPage comparePage = footerMenu.openComparePage();
        // Compare 3 models
        List&lt;ModelSpecs&gt; specs = comparePage.compareModels(&quot;Samsung Galaxy J3&quot;, &quot;Samsung Galaxy J5&quot;, &quot;Samsung Galaxy J7 Pro&quot;);
        // Verify model announced dates
        Assert.assertEquals(specs.get(0).readSpec(SpecType.ANNOUNCED), &quot;2015, November&quot;);
        Assert.assertEquals(specs.get(1).readSpec(SpecType.ANNOUNCED), &quot;2016, September&quot;);
        Assert.assertEquals(specs.get(2).readSpec(SpecType.ANNOUNCED), &quot;2017, June&quot;);
    }
}
</code></pre>

<p>It is good practice to implement all elements search logic of Page Object/UI Object side and perform assertions and validations in the test, do not mix this logic.</p>
<p><strong>Important:</strong></p>
<ul>
<li>Test class should implement <strong>com.zebrunner.carina.core.IAbstractTest</strong></li>
<li>Test method should start with <strong>org.testng.annotations.Test</strong> annotation</li>
<li>Use <strong>getDriver()</strong> method to get driver instance in the test. <blockquote>
<p>1st call of this method will start a driver based on default capabilities.</p>
</blockquote>
</li>
<li>Locate tests in <code>src/test/java</code> source folder</li>
</ul>
<h3 id="test-configuration">Test configuration</h3>
<p>There are a few critical properties in a _config.properties file which are required for web test execution:</p>
<pre><code class="properties">url=http://www.gsmarena.com
capabilities.browserName=chrome
</code></pre>

<p>The implemented test cases should be placed in a TestNG xml file according to the test group the test belongs to. You can find more details about TestNG configuration in the <a href="http://testng.org/doc/documentation-main.html">official documentation</a>.</p>
<pre><code class="xml">&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;

&lt;suite verbose=&quot;1&quot; name=&quot;Carina Demo Tests - Web Sample&quot; parallel=&quot;methods&quot;&gt;
  &lt;test name=&quot;GSM arena web tests&quot;&gt;
      &lt;classes&gt;
          &lt;class name=&quot;com.zebrunner.carina.demo.WebSampleTest&quot; /&gt;
      &lt;/classes&gt;
  &lt;/test&gt;
&lt;/suite&gt;
</code></pre>

<h3 id="page-opening-strategy">Page opening strategy</h3>
<p>Determines how Carina detects whether the expected page is opened:</p>
<ul>
<li>By URL (by default)</li>
<li>By Element presence on the page</li>
<li>By URL and Element</li>
</ul>
<p>To check if a page was opened, you can use the following: </p>
<pre><code class="java">page.isPageOpened();
//or
page.assertPageOpened();  // equals Assert.assertTrue(page.isPageOpened(),&quot;PageName not loaded: reason);
</code></pre>

<p>Page opening strategy configuration can be set in several places:</p>
<p>1) in <a href="http://zebrunner.github.io/carina/configuration/">_config.properties</a>. This determines the whole project page open strategy.</p>
<p>2) In page class. This overrides global page opening strategy for a specific page.</p>
<pre><code class="java">public class Page extends AbstractPage {
    public Page(WebDriver driver){
        super(driver);
        setPageOpeningStrategy(PageOpeningStrategy.BY_URL);
    }
}
</code></pre>

<p>3) In test class. This also overrides global page opening strategy for a specific page.</p>
<pre><code class="java">@Test
public void test(){
    HomePage homePage=new HomePage(getDriver());
    homePage.open();
    homePage.setPageOpeningStrategy(PageOpeningStrategy.BY_URL);
}
</code></pre>

<p>Strategy usage examples:</p>
<p>By URL</p>
<pre><code class="java">//This is a default value. To use it, you need to set a real page URLs into your page classes.
private final String specificPageUrl = &quot;https://www.gsmarena.com/specific/url&quot;;

public Page(WebDriver driver) {
    super(driver);
    setPageOpeningStrategy(PageOpeningStrategy.BY_URL);

    setPageAbsoluteURL(specificPageUrl); //set's full url
    //or
    setPageURL(&quot;/specific/url&quot;); //add's String to url from _config_properties
}
</code></pre>

<p>By Element</p>
<pre><code class="java">//To use this strategy, you need to specify ui load marker.

@FindBy(id = &quot;id&quot;)
private ExtendedWebElement element;

public Page(WebDriver driver) {
    super(driver);

    setPageOpeningStrategy(PageOpeningStrategy.BY_ELEMENT);
    setUiLoadedMarker(element);
}
</code></pre>

<p>By URL and Element</p>
<pre><code class="java">private final String specificPageUrl = &quot;https://www.gsmarena.com/specific/url&quot;;

@FindBy(id = &quot;id&quot;)
private ExtendedWebElement element;

public Page(WebDriver driver) {
    super(driver);

    setPageOpeningStrategy(PageOpeningStrategy.BY_URL_AND_ELEMENT);
    setUiLoadedMarker(element);
    setPageAbsoluteURL(specificPageUrl);
}
</code></pre>

<h3 id="element-loading-strategy">Element loading strategy</h3>
<p>Determines how carina detects appearing of web elements on page:</p>
<ul>
<li>By presence. Carina waits for appearance of web elements in page DOM model.</li>
<li>By visibility. Carina waits until web elements are visible in page.</li>
<li>By presence or visibility (default).</li>
</ul>
<blockquote>
<p>It is recommended to use <em>element_loading_strategy=BY_VISIBILITY</em> because in some cases, condition with presence happens faster but elements are still not accessible due to invisibility at this short period of time.</p>
</blockquote>
<p>Element loading strategy can be set at the same places as <strong>Page opening strategy</strong>.</p>
<p>To check if the element is present:</p>
<pre><code class="java">Component component = Page.getComponent();

// equals to Assert.assertTrue(component.isUIObjectPresent(),&quot;UI object componentName does not present!&quot;);
component.assertUIObjectPresent();

// equals to Assert.assertTrue(!component.isUIObjectPresent(),&quot;UI object componentName presents!&quot;);
component.assertUIObjectNotPresent(); 
</code></pre>

<blockquote>
<p>Dynamic elements loading. 
<strong>waitForJSToLoad()</strong> method was introduced in AbstractPage class. It uses JS under the hood and helps to wait till all the dynamic web elements on the page are loaded.</p>
</blockquote>
<h3 id="faq">FAQ</h3>
<p><strong>What are the benefits of the AbstractUIObject?</strong></p>
<p>The biggest advantage of AbstractUIObject(s) is that you have a single place of truth to declare elements and later change the updated locator in one place.
It also allows to considerably speed up all kinds of refactoring, especially after significant changes by developers:)</p>
<p><strong>Is it possible to automate WebApp written on React, Angular, Vue, Flutter, Google Web Toolkit and other popular and not frameworks?</strong></p>
<p>Carina is a Selenium-based framework so no limitations at this point. Moreover, playing with the page opening and element loading strategies, you can tune this test automation framework to any tool set.</p>
<p><strong>Can I operate with Page elements on test classes layer?</strong></p>
<p>In general, it is not prohibited, but <strong>not recommended!</strong> Isolating page elements by <code>private</code> access modificator allows you to control the implementation in the single Page Object class. </p>
<pre><code class="java">//In the page class:
@FindBy(id = &quot;js-lang-list-button&quot;)
private ExtendedWebElement langListBtn;

@FindBy(xpath = &quot;//div[@id='js-lang-lists']//a&quot;)
private List&lt;ExtendedWebElement&gt; langList;

public WikipediaLocalePage goToWikipediaLocalePage(WebDriver driver) {
    openLangList();
    if (!langList.isEmpty()) {
        for (ExtendedWebElement languageBtn : langList) {
            String localeStr = Configuration.get(Configuration.Parameter.LOCALE);
            Locale locale = parseLocale(localeStr);
            if (languageBtn.getAttribute(&quot;lang&quot;).equals(locale.getLanguage())) {
                languageBtn.click();
                return new WikipediaLocalePage(driver);
            }
        }
    }
    throw new RuntimeException(&quot;No language ref was found&quot;);
}

public void openLangList() {
    langListBtn.clickIfPresent();
}


//In the test class:
public void someTest() {
    WikipediaHomePage wikipediaHomePage = new WikipediaHomePage(getDriver());
    wikipediaHomePage.open();
    WikipediaLocalePage wikipediaLocalePage = wikipediaHomePage.goToWikipediaLocalePage(getDriver());
}
</code></pre>

<p><strong>How to declare and use an ExtendedWebElement with dynamic xpath?</strong></p>
<p>In previous versions of Carina, it was possible to search for an element using a dynamic xpath using such code:</p>
<pre><code class="java">ExtendedWebElement spec = findExtendedWebElement(By.xpath(
        String.format(&quot;//td[@class='nfo'][%d]//a[text()='%s']&quot;, &quot;My link&quot;, 1)));
</code></pre>

<p>However, this element search format is now deprecated and not recommended to use. There is more convenient way to search:</p>
<p>1) Declare an element using the <code>@FindBy</code> annotation and specify a locator based on the convention used by the <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html">Formatter</a>:</p>
<pre><code class="java">@FindBy(xpath = &quot;//a[text()='%s']&quot;)
private ExtendedWebElement link;

@FindBy(xpath = &quot;//td[@class='nfo'][%d]&quot;)
private ExtendedWebElement cell;

@FindBy(xpath = &quot;//td[@class='nfo'][%d]//a[text()='%s']&quot;)
private ExtendedWebElement cellLink
</code></pre>

<p>2) In code where these elements will be used, use the <code>format</code> method to format the locator and create an ExtendedWebElement based on it for later use:</p>
<pre><code class="java">// a link that have the text &quot;My link&quot;
link.format(&quot;My link&quot;)

// td tag with class 'nfo' by index 2
cell.format(2)

// a link that have the text &quot;My link&quot; that  is in the td tag with class 'nfo' by index 2
cellLink.format(2, &quot;My link&quot;);
</code></pre>

<p>3) As a result of calling this method, we get a specific ExtendedWebElement, which we can use in the future, for example:</p>
<pre><code class="java">//getting text of element
cell.format(&quot;My link&quot;).getText();
</code></pre>

<p><strong>How do I install extensions for Chrome?</strong></p>
<p>Installing an extension for Chrome is done by using the <code>addEncodedExtensions</code> method of <code>ChromeOptions</code> class, for example:</p>
<pre><code>ChromeOptions options = new ChromeCapabilities().getCapability(&quot;default&quot;);
List&lt;File&gt; paths = new ArrayList();
paths.add(new File(&quot;path to the file with crx extension (packed Chrome extension)&quot;));
options.addEncodedExtensions(paths);
getDriver(&quot;default&quot;, options);
</code></pre>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../../execution/" title="Execution" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Execution
              </div>
            </div>
          </a>
        
        
          <a href="../mobile/" title="Mobile" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Mobile
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            2022 Zebrunner, Inc. All Rights Reserved
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://twitter.com/zebrunner" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://linkedin.com/company/zebrunner" target="_blank" rel="noopener" title="linkedin.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://facebook.com/zebrunner" target="_blank" rel="noopener" title="facebook.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://t.me/zebrunner" target="_blank" rel="noopener" title="t.me" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.5f27aba8.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>