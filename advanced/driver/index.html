


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/favicon.svg">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.2.2">
    
    
      
        <title>Driver - Carina</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a2408e81.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="zebrunner" data-md-color-primary="" data-md-color-accent="">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#initialization" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Carina" class="md-header-nav__button md-logo" aria-label="Carina">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Carina
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Driver
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/zebrunner/carina/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    carina
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Carina" class="md-nav__button md-logo" aria-label="Carina">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    Carina
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/zebrunner/carina/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    carina
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting_started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../project_structure/" title="Project structure" class="md-nav__link">
      Project structure
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../execution/" title="Execution" class="md-nav__link">
      Execution
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Automation
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Automation" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Automation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../automation/web/" title="Web" class="md-nav__link">
      Web
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../automation/mobile/" title="Mobile" class="md-nav__link">
      Mobile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../automation/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../automation/windows/" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Advanced
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Advanced" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../database/" title="Database" class="md-nav__link">
      Database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dataprovider/" title="DataProvider" class="md-nav__link">
      DataProvider
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Driver
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Driver" class="md-nav__link md-nav__link--active">
      Driver
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initialization" class="md-nav__link">
    Initialization
  </a>
  
    <nav class="md-nav" aria-label="Initialization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#capabilities" class="md-nav__link">
    Capabilities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quit" class="md-nav__link">
    Quit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restart" class="md-nav__link">
    Restart
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    FAQ
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mobile/" title="Mobile" class="md-nav__link">
      Mobile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../localization/" title="Localization" class="md-nav__link">
      Localization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../program_flow/" title="Program flow" class="md-nav__link">
      Program flow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../proxy/" title="Proxy" class="md-nav__link">
      Proxy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../screenshot/" title="Screenshot" class="md-nav__link">
      Screenshot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Integration
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Integration" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration/zebrunner/" title="Zebrunner" class="md-nav__link">
      Zebrunner
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../cucumber/" title="Cucumber" class="md-nav__link">
      Cucumber
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contribution/" title="Contribution" class="md-nav__link">
      Contribution
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#initialization" class="md-nav__link">
    Initialization
  </a>
  
    <nav class="md-nav" aria-label="Initialization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#capabilities" class="md-nav__link">
    Capabilities
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quit" class="md-nav__link">
    Quit
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restart" class="md-nav__link">
    Restart
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    FAQ
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/zebrunner/carina/edit/master/docs/advanced/driver.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                  <h1>Driver</h1>
                
                <p>All the described methods are implemented inside <code>IDriverPool</code> interface and accessible by default from any test class. 
To access this functionality from another places like your services, just implement this interface.</p>
<blockquote>
<p>Each thread has their own named driver pool</p>
</blockquote>
<p>Supported Browsers: Chrome, Firefox, Microsoft Edge, Opera, Safari, etc.</p>
<h2 id="initialization">Initialization</h2>
<ul>
<li>
<p><strong>getDriver()</strong> is the core method to start any Selenium/Appium session. It will create a RemoteWebDriver named "default" based on the default capabilities from configuration.</p>
<blockquote>
<p>1st call of the method in the current thread should starta  new driver. Next calls will return existing object.</p>
</blockquote>
</li>
<li>
<p><strong>getDriver(String name)</strong> start named driver session using default capabilities from configuration. This allows to start several drivers (up to 3 according to <code>max_driver_count</code> property).</p>
</li>
<li>
<p><strong>getDriver(String name, MutableCapabilities capabilities)</strong> start named driver session using custom capabilities.</p>
</li>
<li>
<p><strong>getDriver(String name, MutableCapabilities capabilities, String seleniumHost)</strong> start named driver session using custom capabilities vs custom selenium URL.</p>
</li>
</ul>
<p>Example:</p>
<pre><code>@Test
public void carinaCapsTest() {
    // Chrome default capabilities builder usage:
    WebDriver chromeDriver = getDriver(&quot;chrome&quot;, new ChromeCapabilities().getCapability(&quot;Chrome Browser&quot;));
    HomePage homePageChrome = new HomePage(chromeDriver);
    homePageChrome.open();

    // Firefox default capabilities builder usage:
    getDriver(&quot;firefox&quot;, new FirefoxCapabilities().getCapability(&quot;Firefox Browser&quot;));
    HomePage homePageFirefox = new HomePage(getDriver(&quot;firefox&quot;)); // return named &quot;firefox&quot; driver from the pool to init HomePage.
    homePageFirefox.open();

    // Safari, Edge and Opera default capabilities builder usage:
    HomePage homePageSafari = new HomePage(getDriver(&quot;safari&quot;, new SafariCapabilities().getCapability(&quot;Safari Browser&quot;)));
    homePageSafari.open();

    getDriver(&quot;edge&quot;, new EdgeCapabilities().getCapability(&quot;Edge Browser&quot;));
    getDriver(&quot;opera&quot;, new OperaCapabilities().getCapability(&quot;Opera Browser&quot;));
}

@Test
public void mutableCapsTest() {
    // Manage MutableCapabilities on your own to build complicated caps structure:
    MutableCapabilities capabilities = new MutableCapabilities();
    capabilities.setCapability(CapabilityType.BROWSER_NAME, Browser.SAFARI.browserName());
    capabilities.setCapability(CapabilityType.PLATFORM_NAME, SpecialKeywords.MAC);

    HomePage safariHomePage = new HomePage(getDriver(&quot;safari&quot;, capabilities));
    safariHomePage.open();

    Assert.assertTrue(safariHomePage.isPageOpened());
}
</code></pre>

<h3 id="capabilities">Capabilities</h3>
<p>Capabilities can be specified in several ways.</p>
<p>1)&nbsp;Specifying capabilities via <code>_config.properties</code>. Capabilities in the properties will be those parameters that have <code>capabilities.</code> added to the name first, for example <code>capabilities.platformName=Android</code>.</p>
<p>1.1)&nbsp;Standard capabilities (listed <a href="https://www.w3.org/TR/webdriver/#capabilities">here</a>) should be specified as follows:</p>
<pre><code class="properties"># The delimiter can be both the = symbol and the : symbol, but the first style is preferable.
capabilities.browserName=chrome
capabilities.browserVersion=100.0
capabilities.platformName=mac
</code></pre>

<p>1.2)&nbsp;Capabilities that are not included in the standard ones. Such capabilities can be specified in two ways - with a prefix and nested.</p>
<p>1.2.1)&nbsp;Capabilities with prefix. Example:</p>
<pre><code class="properties"># Appium capabilities
capabilities.appium\:automationName=uiautomator2
capabilities.appium\:noReset=true
capabilities.appium\:fullReset=true
capabilities.appium\:app=https://qaprosoft.s3-us-west-2.amazonaws.com/carinademoexample.apk
</code></pre>

<p>However, it is not recommended to add an <code>appium:</code> prefix for <strong>Appium</strong> capabilities in the configuration file, as Appium drivers able to add it
themselves.</p>
<p>1.2.2)&nbsp;Nested capabilities. Example:</p>
<pre><code class="properties">capabilities.zebrunner\:options.enableVideo=true
capabilities.zebrunner\:options.enableLog=true
</code></pre>

<p>The final form of these capabilities as a result of processing:</p>
<pre><code>{
    ...
    zebrunner:options {
        enableVideo=true,
        enableLog=true
    }
    ...
}
</code></pre>

<p>2)&nbsp;Specifying via the auxiliary properties file</p>
<p>2.1)&nbsp;The most popular capabilities sets can be declared in properties files and reused via <code>custom_capabilities</code> configuration parameter. It can be
convenient for external hub providers like Zebrunner Device Farm, BrowserStack, Sauce Labs, etc.</p>
<p>Collect device/browser specific capabilities and put into <code>src/main/resources/browserstack-iphone_12.properties</code>:</p>
<pre><code>capabilities.platformName=ios
capabilities.deviceName=iPhone 14 Pro Max
capabilities.platformVersion=16
capabilities.app=bs://444bd0308813ae0dc236f8cd461c02d3afa7901d
capabilities.bstack\:options.local[string]=false
capabilities.bstack\:options.appiumVersion[string]=2.0.0
capabilities.bstack\:options.deviceOrientation=landscape
</code></pre>

<p>Put <code>custom_capabilities=browserstack-iphone_12.properties</code> into the <strong>_config.properties</strong> to start all tests on this device.</p>
<p>2.2)&nbsp;Also you can create the same properties file as described in paragraph 2.1, but add its capabilities using the <code>loadCapabilities</code> method of
the <code>com.zebrunner.carina.webdriver.core.capability.CapabilitiesLoader</code> class.</p>
<p>3)&nbsp;Using the <code>put</code> method of the <code>R.CONFIG</code> class. You can specify not only capabilities, but also parameters, for example:</p>
<pre><code>...
R.CONFIG.put(&quot;capabilities.browserName&quot;, &quot;chrome&quot;);
R.CONFIG.put(&quot;capabilities.browserName&quot;, &quot;firefox&quot;, true);
...
</code></pre>

<p>4)&nbsp;Static Capabilities (Only when testing desktop browsers). You can specify capabilities that will apply to all sessions, using
   the <code>addStaticCapability</code> method of the <code>com.zebrunner.carina.webdriver.core.factory.impl.DesktopFactory</code> class.</p>
<p><strong>For paragraphs 1, 2, 3:</strong> Sometimes you need to explicitly specify the type of the capability value. When processing capabilities, their final type
is determined based on the value (if we can parse as a number then it will be number, if as boolean then boolean, if not then string). However, there
are situations when it is necessary to explicitly specify the type of the value, for example, the value is a number, but we want the resulting value
to be a string. For example:</p>
<pre><code class="properties"># We want to explicitly specify the String type for the idleTimeout value
capabilities.zebrunner\:options.idleTimeout[String]=100
capabilities.browserVersion[string]=100.0
</code></pre>

<p>Available explicit casting options - <code>[string]</code>, <code>[boolean]</code>, <code>[integer]</code>.</p>
<p>Visit these resources to see all capabilities:</p>
<ul>
<li><a href="https://w3c.github.io/webdriver/#capabilities">Selenium</a></li>
<li><a href="https://github.com/appium/appium-xcuitest-driver#capabilities">Appium - XCUITest</a></li>
<li><a href="https://github.com/appium/appium-uiautomator2-driver#capabilities">Appium - UiAutomator2</a></li>
<li><a href="https://github.com/appium/appium-espresso-driver#capabilities">Appium - Espresso</a></li>
<li><a href="https://github.com/appium/appium-geckodriver#usage">Appium - Gecko</a></li>
<li><a href="https://github.com/appium/appium-safari-driver#usage">Appium - Safari</a></li>
<li><a href="https://github.com/appium/appium-windows-driver#usage">Appium - Windows</a></li>
</ul>
<p>You can also look at outdated list of capabilities:</p>
<ul>
<li><a href="https://www.selenium.dev/documentation/legacy/desired_capabilities/">Selenium</a></li>
<li><a href="https://appium.io/docs/en/writing-running-appium/caps/">Appium</a></li>
</ul>
<h3 id="options">Options</h3>
<p>Options and arguments can be provided through <code>_config.properties</code> using comma-separated values for multiple options/args, for example:</p>
<pre><code>firefox_args=--no-first-run,--disable-notifications
firefox_preferences=
chrome_args=
chrome_experimental_opts=
chrome_mobile_emulation_opts=
</code></pre>

<p>To provide complicated structures, use the advanced approach to build capabilities/options/arguments:</p>
<pre><code>public void someTest() {
  FirefoxOptions options = new FirefoxOptions();
  options.addArguments(&quot;--no-first-run&quot;);
  options.addArguments(&quot;--disable-notifications&quot;);
  options.setPlatformName(SpecialKeywords.MAC);

  HomePage homePage = new HomePage(getDriver(&quot;firefox&quot;, options));
  homePage.open();

  Assert.assertTrue(homePage.isPageOpened());
}
</code></pre>

<h2 id="quit">Quit</h2>
<p>Quit driver operation is executed automatically based on the driver init phase, i.e. <strong>no need to do it inside your test code</strong>.</p>
<ul>
<li><code>@BeforeSuite</code> drivers belong to all tests/classes and will be closed at <code>@AfterSuite</code> only</li>
<li><code>@BeforeTest</code> drivers belong to all <code>&lt;test&gt;</code> classes and will be closed at <code>@AfterTest</code>.</li>
<li><code>@BeforeClass</code> drivers belong to all tests inside current class and will be closed at <code>@AfterClass</code></li>
<li><code>@BeforeMethod</code> or inside <code>Test Method</code> drivers belong to current test method and will be closed at <code>@AfterMethod</code><blockquote>
<p>For dependent test methods Carina preserve started driver(s) by default.</p>
</blockquote>
</li>
</ul>
<p>To quit driver forcibly, use <strong>quitDriver()</strong> or <strong>quitDriver(name)</strong></p>
<p>To disable driver quit strategy completely and cotrol drivers init/quit on your own, provide <code>forcibly_disable_driver_quit=true</code> or execute from any place of your test code <code>CarinaListener.disableDriversCleanup();</code></p>
<h2 id="restart">Restart</h2>
<ul>
<li><strong>restartDriver()</strong> quit the current driver and start a new one with the same capabilities</li>
<li><strong>restartDriver(boolean isSameDevice)</strong> quit the current driver and start a new one on the same device using <code>uuid</code> capability. It is fully compatible with <a href="https://github.com/zebrunner/mcloud">MCloud</a> farm.</li>
</ul>
<h2 id="faq">FAQ</h2>
<p><strong>Where is a valid place to init drivers and pages?</strong></p>
<p>Init pages and drivers inside test methods where they are actually used. Escape declaring pages and drivers on the class level as it produces extra complexity in execution, maintenance and support!</p>
<pre><code>public class TestSample implements IAbstractTest {
  @Test(){
  public void someTest(){
     //Page declared and initialized right before using it
     HomePage homePage = new HomePage(getDriver());
     homePage.open();
     FooterMenu footerMenu = homePage.getFooterMenu();
     CompareModelsPage comparePage = footerMenu.openComparePage();
     List&lt;ModelSpecs&gt; specs = comparePage.compareModels(&quot;Samsung Galaxy J3&quot;, &quot;Samsung Galaxy J5&quot;, &quot;Samsung Galaxy J7 Pro&quot;);
  }
}
</code></pre>

<p>Anti-pattern:</p>
<pre><code>public class TestSample implements IAbstractTest {
  HomePage homePage = new HomePage(driver);
  WebDriver driver;
  FooterMenu footerMenu;

  @BeforeSuite
  public void driverInit(){
      driver = getDriver();
  }

  @Test(){
  public void someTest(){
     homePage.open();
     footerMenu = homePage.getFooterMenu();
     CompareModelsPage comparePage = footerMenu.openComparePage();
     List&lt;ModelSpecs&gt; specs = comparePage.compareModels(&quot;Samsung Galaxy J3&quot;, &quot;Samsung Galaxy J5&quot;, &quot;Samsung Galaxy J7 Pro&quot;);
  }
}
</code></pre>

<p><strong>May I init page/driver on static layer?</strong></p>
<p>Initialization of drivers and pages on the static layer is prohibited. CarinaListener cannot be even integrated at the compilation stage. For details, please visit <a href="https://github.com/zebrunner/carina/issues/1550">#1550</a>.
The earliest stage you can start driver is <code>@BeforeSuite()</code>.</p>
<p><strong>How to start different tests on different devices?</strong></p>
<p>Start driver with custom MutableCapabilities to launch on different devices. Also, you can use <code>CapabilitiesLoader</code> to manage capabilities at run-time:</p>
<pre><code>// Update default capabilities globally to start future drivers **for all tests** on iPhone_12 
new CapabilitiesLoader().loadCapabilities(&quot;browserstack-iphone_12.properties&quot;);

// Update default capabilities to start future drivers **for this test only** on iPhone_12 
new CapabilitiesLoader().loadCapabilities(&quot;browserstack-iphone_12.properties&quot;, true);

// start new driver with generated capabilities from properties file:
WebDriver drv = getDriver(&quot;iPhone12&quot;, new CapabilitiesLoader().getCapabilities(&quot;browserstack-iphone_12.properties&quot;))
</code></pre>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../dataprovider/" title="DataProvider" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                DataProvider
              </div>
            </div>
          </a>
        
        
          <a href="../mobile/" title="Mobile" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Mobile
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            2022 Zebrunner, Inc. All Rights Reserved
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://twitter.com/zebrunner" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://linkedin.com/company/zebrunner" target="_blank" rel="noopener" title="linkedin.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://facebook.com/zebrunner" target="_blank" rel="noopener" title="facebook.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://t.me/zebrunner" target="_blank" rel="noopener" title="t.me" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.5f27aba8.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>