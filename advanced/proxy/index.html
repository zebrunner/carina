


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/favicon.svg">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.2.2">
    
    
      
        <title>Proxy - Carina</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a2408e81.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.a46bcfb3.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="zebrunner" data-md-color-primary="" data-md-color-accent="">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#direct-proxy-mode" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Carina" class="md-header-nav__button md-logo" aria-label="Carina">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Carina
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Proxy
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/zebrunner/carina/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    carina
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Carina" class="md-nav__button md-logo" aria-label="Carina">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    Carina
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/zebrunner/carina/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    carina
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../getting_started/" title="Getting started" class="md-nav__link">
      Getting started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../project_structure/" title="Project structure" class="md-nav__link">
      Project structure
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../execution/" title="Execution" class="md-nav__link">
      Execution
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Automation
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Automation" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Automation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../automation/web/" title="Web" class="md-nav__link">
      Web
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../automation/mobile/" title="Mobile" class="md-nav__link">
      Mobile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../automation/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../automation/windows/" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Advanced
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Advanced" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../database/" title="Database" class="md-nav__link">
      Database
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dataprovider/" title="DataProvider" class="md-nav__link">
      DataProvider
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../driver/" title="Driver" class="md-nav__link">
      Driver
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mobile/" title="Mobile" class="md-nav__link">
      Mobile
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../localization/" title="Localization" class="md-nav__link">
      Localization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../program_flow/" title="Program flow" class="md-nav__link">
      Program flow
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Proxy
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="./" title="Proxy" class="md-nav__link md-nav__link--active">
      Proxy
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#direct-proxy-mode" class="md-nav__link">
    DIRECT proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pac-proxy-mode" class="md-nav__link">
    PAC proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autodetect-proxy-mode" class="md-nav__link">
    AUTODETECT proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-proxy-mode" class="md-nav__link">
    SYSTEM proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unspecified-proxy-mode-not-recommended-to-use" class="md-nav__link">
    UNSPECIFIED proxy mode [NOT RECOMMENDED TO USE]
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unused-proxy-mode" class="md-nav__link">
    UNUSED proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual-proxy-mode" class="md-nav__link">
    MANUAL proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-proxy-mode" class="md-nav__link">
    DYNAMIC proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#legacy-proxy-mode-default-will-be-deprecated-in-future-releases" class="md-nav__link">
    LEGACY proxy mode [DEFAULT, WILL BE DEPRECATED IN FUTURE RELEASES]
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-default-dynamic-proxy-implementation-carinabrowserupproxy-in-dynamic-mode-in-java-code" class="md-nav__link">
    Using the default dynamic proxy implementation (CarinaBrowserUpProxy) in DYNAMIC mode in Java code
  </a>
  
    <nav class="md-nav" aria-label="Using the default dynamic proxy implementation (CarinaBrowserUpProxy) in DYNAMIC mode in Java code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dealing-with-mitm-and-installing-ssl-certificate-into-your-system" class="md-nav__link">
    Dealing with MITM and installing SSL certificate into your system:
  </a>
  
    <nav class="md-nav" aria-label="Dealing with MITM and installing SSL certificate into your system:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-mac-users" class="md-nav__link">
    For Mac users:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-ssl-certificate-into-java-keystore" class="md-nav__link">
    Adding SSL certificate into Java keystore:
  </a>
  
    <nav class="md-nav" aria-label="Adding SSL certificate into Java keystore:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-mac-and-linux-users" class="md-nav__link">
    For Mac and Linux users:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../screenshot/" title="Screenshot" class="md-nav__link">
      Screenshot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Integration
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Integration" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Integration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../integration/zebrunner/" title="Zebrunner" class="md-nav__link">
      Zebrunner
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../cucumber/" title="Cucumber" class="md-nav__link">
      Cucumber
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../contribution/" title="Contribution" class="md-nav__link">
      Contribution
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#direct-proxy-mode" class="md-nav__link">
    DIRECT proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pac-proxy-mode" class="md-nav__link">
    PAC proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autodetect-proxy-mode" class="md-nav__link">
    AUTODETECT proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-proxy-mode" class="md-nav__link">
    SYSTEM proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unspecified-proxy-mode-not-recommended-to-use" class="md-nav__link">
    UNSPECIFIED proxy mode [NOT RECOMMENDED TO USE]
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unused-proxy-mode" class="md-nav__link">
    UNUSED proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manual-proxy-mode" class="md-nav__link">
    MANUAL proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-proxy-mode" class="md-nav__link">
    DYNAMIC proxy mode
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#legacy-proxy-mode-default-will-be-deprecated-in-future-releases" class="md-nav__link">
    LEGACY proxy mode [DEFAULT, WILL BE DEPRECATED IN FUTURE RELEASES]
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#using-the-default-dynamic-proxy-implementation-carinabrowserupproxy-in-dynamic-mode-in-java-code" class="md-nav__link">
    Using the default dynamic proxy implementation (CarinaBrowserUpProxy) in DYNAMIC mode in Java code
  </a>
  
    <nav class="md-nav" aria-label="Using the default dynamic proxy implementation (CarinaBrowserUpProxy) in DYNAMIC mode in Java code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dealing-with-mitm-and-installing-ssl-certificate-into-your-system" class="md-nav__link">
    Dealing with MITM and installing SSL certificate into your system:
  </a>
  
    <nav class="md-nav" aria-label="Dealing with MITM and installing SSL certificate into your system:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-mac-users" class="md-nav__link">
    For Mac users:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-ssl-certificate-into-java-keystore" class="md-nav__link">
    Adding SSL certificate into Java keystore:
  </a>
  
    <nav class="md-nav" aria-label="Adding SSL certificate into Java keystore:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-mac-and-linux-users" class="md-nav__link">
    For Mac and Linux users:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/zebrunner/carina/edit/master/docs/advanced/proxy.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                  <h1>Proxy</h1>
                
                <p>Selenium provides the ability to set various proxy settings for the browser session.
This possibility is implemented and supplemented in Carina Framework through the usage of various configurations.</p>
<p>First, the type of proxying is controlled by the configuration parameter
<code>proxy_type</code>. The value of this parameter can be <code>DIRECT</code>, <code>MANUAL</code>, <code>DYNAMIC</code>, <code>PAC</code>, <code>AUTODETECT</code>, 
<code>SYSTEM</code>, <code>UNSPECIFIED</code>, <code>UNUSED</code>, <code>LEGACY</code>. Let's consider them in more detail.</p>
<h3 id="direct-proxy-mode">DIRECT proxy mode</h3>
<p>Specifies that the session will not use a proxy.</p>
<p>Set by changing the value of the <code>proxy_type</code> parameter in the configuration to <code>DIRECT</code>.</p>
<p>An example of using a proxy can be viewed <a href="https://github.com/zebrunner/carina-demo/blob/c73f1a3c03dd9065c9256f930427a15639475763/src/test/java/com/qaprosoft/carina/demo/ProxySampleTest.java#L91">here</a>.</p>
<h3 id="pac-proxy-mode">PAC proxy mode</h3>
<p>A Proxy Auto-Configuration (PAC) file is a JavaScript function that determines whether 
web browser requests (HTTP, HTTPS, and FTP) go directly to the destination or are 
forwarded to a web proxy server. More information about the structure of the pac file can be found <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Proxy_servers_and_tunneling/Proxy_Auto-Configuration_PAC_file">here</a>.</p>
<p>Set by changing the value of the <code>proxy_type</code> parameter in the configuration to <code>PAC</code>.</p>
<p>This mode depends on the following configuration parameters:</p>
<p><code>proxy_autoconfig_url</code> - specifies the URL to be used for proxy auto-configuration.
Expected format is <code>http://hostname.com:1234/pacfile</code>. However, the value of this parameter
may be local path with pac file.</p>
<p><code>proxy_pac_local</code> - specifies, how the value provided in the <code>proxy_autoconfig_url</code> parameter.
If the parameter value is <code>true</code> then it is assumed
that <code>proxy_autoconfig_url</code> contains the path to the file on the local machine. It will be sent
browser to set up a proxy. If the value of the parameter is <code>false</code>, then it is assumed that
that <code>proxy_autoconfig_url</code> contains the URL to the pac file.</p>
<p>An example of using a proxy can be viewed <a href="https://github.com/zebrunner/carina-demo/blob/c73f1a3c03dd9065c9256f930427a15639475763/src/test/java/com/qaprosoft/carina/demo/ProxySampleTest.java#L110">here</a>.</p>
<h3 id="autodetect-proxy-mode">AUTODETECT proxy mode</h3>
<p>Specifies whether to autodetect proxy settings. Presumably with <a href="https://en.wikipedia.org/wiki/Web_Proxy_Auto-Discovery_Protocol">WPAD</a>.</p>
<p>Set by changing the value of the <code>proxy_type</code> parameter in the configuration to <code>AUTODETECT</code>.</p>
<p>An example of using a proxy can be viewed <a href="https://github.com/zebrunner/carina-demo/blob/c73f1a3c03dd9065c9256f930427a15639475763/src/test/java/com/qaprosoft/carina/demo/ProxySampleTest.java#L150">here</a>.</p>
<h3 id="system-proxy-mode">SYSTEM proxy mode</h3>
<p>Use system proxy settings. Default Mode on Linux.</p>
<p>Set by changing the value of the <code>proxy_type</code> parameter in the configuration to <code>SYSTEM</code>.</p>
<p>An example of using a proxy can be viewed <a href="https://github.com/zebrunner/carina-demo/blob/c73f1a3c03dd9065c9256f930427a15639475763/src/test/java/com/qaprosoft/carina/demo/ProxySampleTest.java#L169">here</a>.</p>
<h3 id="unspecified-proxy-mode-not-recommended-to-use">UNSPECIFIED proxy mode [NOT RECOMMENDED TO USE]</h3>
<p>The mode set in the Selenium proxy by default and indicates that they should
use the following settings (for Windows - DIRECT mode, for linux - SYSTEM).</p>
<p>Set by changing the value of the <code>proxy_type</code> parameter in the configuration to <code>UNSPECIFIED</code>.</p>
<p>It is not recommended to use, if you want to specify that the proxy object is not added to
session, then use <code>UNUSED</code> mode. Only added because Selenium provides
the ability to explicitly specify the <code>UNSPECIFIED</code> proxy type.</p>
<h3 id="unused-proxy-mode">UNUSED proxy mode</h3>
<p>Specifies that the proxy object should not be added to the capability to start the driver.
However, as practice shows, the proxy object will still be present in the session with the <code>UNSPECIFIED</code> type.</p>
<p>Set by changing the value of the <code>proxy_type</code> parameter in the configuration to <code>UNUSED</code>.</p>
<h3 id="manual-proxy-mode">MANUAL proxy mode</h3>
<p>Proxy mode, in which the host and port of the proxy are explicitly specified.</p>
<p>Set by changing the value of the <code>proxy_type</code> parameter in the configuration to <code>MANUAL</code>.</p>
<p>Depends on the following configuration parameters:</p>
<p><code>proxy_host</code> - contains a proxy host, for example <code>127.0.0.1</code><br />
<code>proxy_port</code> - contains a proxy port, for example <code>8080</code><br />
<code>proxy_protocols</code> - contains a list of protocol types to which should be applied
the above options. May contain a set of the following values: <code>http</code>, <code>https</code>, <code>ftp</code>, <code>socks</code>.
Values are separated by a comma, such as <code>http,https,ftp</code>.<br />
<code>no_proxy</code> - contains comma-separated addresses to which the proxy should not be applied.</p>
<p>If this mode applies to the entire application, you can use the following setting:</p>
<p><code>proxy_set_to_system</code> - if <code>true</code>, then sets proxy values to system properties, i.e.
the proxy will be applied to all http/https/ftp requests from the application as well (depends on the values listed in <code>proxy_protocols</code>).
However, this approach is not thread-safe and is therefore not recommended for use in all other modes. Disabled by default.</p>
<p>An example of using a proxy can be viewed <a href="https://github.com/zebrunner/carina-demo/blob/c73f1a3c03dd9065c9256f930427a15639475763/src/test/java/com/qaprosoft/carina/demo/ProxySampleTest.java#L67">here</a>.</p>
<h3 id="dynamic-proxy-mode">DYNAMIC proxy mode</h3>
<p>Advanced proxy mode.</p>
<p>Starts with rules. The rule defines which 'dynamic' proxy should be started
when forming capabilities before starting the driver. The rule must implement the interface
<a href="https://github.com/zebrunner/carina-proxy/blob/master/src/main/java/com/zebrunner/carina/proxy/IProxyRule.java">IProxyRule</a>.</p>
<p>The default rule is <a href="https://github.com/zebrunner/carina-proxy/blob/master/src/main/java/com/zebrunner/carina/proxy/DefaultProxyRule.java">DefaultProxyRule</a>,
which depends on the value of the <code>browserup_proxy</code> parameter (if true, then the proxy should be started, if false, then not),
and uses the dynamic proxy implementation, which in turn uses <a href="https://github.com/browserup/browserup-proxy">BrowserUpProxy</a>.</p>
<p>The rule can be either global or set for a separate test. Setting the rules globally/for the test is done using the methods of the
class <a href="https://github.com/zebrunner/carina-proxy/blob/master/src/main/java/com/zebrunner/carina/proxy/ProxyPool.java">ProxyPool</a>.
Also all dynamic proxies are controlled by this class. This class manages the state of the proxy (starting, stopping, getting information about
running proxy, controlling the use of the specified ports).</p>
<p>All dynamic proxies depend on the following configuration parameters:</p>
<p><code>proxy_port</code> - priority parameter when obtaining the port for the proxy to be started.
The default value is <code>0</code> (dynamic port), but this value is relevant
for the default dynamic proxy implementation, may not be relevant for other implementations.</p>
<p><code>proxy_ports</code> - defines the range of ports that can be used for running proxies.
Example: <code>4000:5000</code> - ports 4000 to 5000 will be used. Only used
if the value of <code>proxy_ports</code> is <code>NULL</code>.</p>
<p>There are also parameters on which the default dynamic proxy implementation depends:</p>
<p><code>browserup_disabled_mitm</code> - when true, MITM capture will be disabled, false otherwise</p>
<p>The default dynamic proxy implementation is represented by the <a href="https://github.com/zebrunner/carina-proxy/blob/master/src/main/java/com/zebrunner/carina/proxy/browserup/CarinaBrowserUpProxy.java">CarinaBrowserUpProxy</a> class.</p>
<p>An example of using a default dynamic proxy can be viewed <a href="https://github.com/zebrunner/carina-demo/blob/c73f1a3c03dd9065c9256f930427a15639475763/src/test/java/com/qaprosoft/carina/demo/ProxySampleTest.java#L207">here</a>.</p>
<p>If you want to use a proxy that is not use BrowserUp or use BrowserUp with custom configuration,
then you can create your own implementation. For this you have to create a class,
implementing the <a href="https://github.com/zebrunner/carina-proxy/blob/master/src/main/java/com/zebrunner/carina/proxy/IProxy.java">IProxy</a> interface.
In your implementation, you manage the state of the proxy yourself, however, you must follow the rules described by the interface,
so that the proxy pool correctly manages your implementation. You also need to implement your rule.
To do this, you need to create a class that implements the <a href="https://github.com/zebrunner/carina-proxy/blob/master/src/main/java/com/zebrunner/carina/proxy/IProxyRule.java">IProxyRule</a> interface,
and then register it using the <a href="https://github.com/zebrunner/carina-proxy/blob/master/src/main/java/com/zebrunner/carina/proxy/ProxyPool.java">ProxyPool</a> class methods.
This rule will be used instead of the default rule (can be set globally or per test).</p>
<h3 id="legacy-proxy-mode-default-will-be-deprecated-in-future-releases">LEGACY proxy mode [DEFAULT, WILL BE DEPRECATED IN FUTURE RELEASES]</h3>
<p>Set by changing the value of the <code>proxy_type</code> parameter in the configuration to <code>LEGACY</code>.</p>
<p>There is a possibility to send all test traffic via proxy including the embedded light-weight BrowserUp proxy server.
There are several properties available to manage all kinds of proxy usage:</p>
<pre><code>proxy_host=NULL
proxy_port=NULL
proxy_protocols=http,https,ftp
proxy_set_to_system=true
browserup_proxy=false
browserup_disabled_mitm=false
browserup_port=0
</code></pre>

<p>With the enabled <strong>browserup_proxy</strong>, Carina will start the dedicated proxy instance on every test method.</p>
<p>Carina automatically detects an IP address for your local browserup proxy and puts it into the capabilities in case if <strong>proxy_host=NULL</strong>. If you want to map some publicly available IP address for your browserup proxy instance then you'll need to override it via <strong>proxy_host</strong> property.
E.g. <strong>proxy_host=myhostname</strong> is useful in case of running maven process inside a docker container. Override the hostname, and it will be available from Selenium instance.</p>
<p><strong>browserup_port=0</strong> means that Carina dynamically identifies a free port for a proxy session.</p>
<p><strong>browserup_ports_range=8001:8003</strong> means that Carina will use only ports from given range for starting of browserup sessions. That's reasonable for cases when only several ports are shared at environment and can be accessed from other machines within the network. If all ports are used then test will wait for the first freed port.</p>
<p><strong>browserup_disabled_mitm</strong> is disabled by default.</p>
<p><strong>Important!</strong> If you have troubles with  SSL traffic sniffing, the first thing you should do is to change <strong>browserup_disabled_mitm</strong> property value!</p>
<p>Declare proxy_host, proxy_port and proxy_protocols to send all Web and API test traffic via your static network proxy.
Also, to enable proxy for TestNG Java process, <strong>proxy_set_to_system</strong> must be specified to <strong>true</strong>, otherwise only WebDrivers and API clients will be proxied.</p>
<p>Note: The above settings are mostly required to get public internet access through corporate proxies.</p>
<h2 id="using-the-default-dynamic-proxy-implementation-carinabrowserupproxy-in-dynamic-mode-in-java-code">Using the default dynamic proxy implementation (CarinaBrowserUpProxy) in DYNAMIC mode in Java code</h2>
<p><strong>IMPORTANT</strong>: All of the following examples of using ProxyPool in the current section use the class
<a href="https://github.com/zebrunner/carina-proxy/blob/master/src/main/java/com/zebrunner/carina/proxy/ProxyPool.java">ProxyPool</a>.</p>
<p>1) Make sure the driver instance is already started:</p>
<pre><code>getDriver();
</code></pre>

<p>Note: During the driver startup, Carina automatically starts proxy (depends on rule) and adjusts browser capabilities to track the desired protocols. 
To get proxy instance for the current test/thread, you can call:</p>
<pre><code>Optional&lt;IProxy&gt; proxy = ProxyPool.getProxy();
</code></pre>

<p>You can get a specific implementation of a dynamic proxy as follows (but you need to be sure which implementation will be in the pool):</p>
<pre><code>Optional&lt;CarinaBrowserUpProxy&gt; proxy = ProxyPool.getOriginal(CarinaBrowserUpProxy.class);
</code></pre>

<p>2) Enable the required Har capture type using:</p>
<pre><code>CarinaBrowserUpProxy proxy = ProxyPool.getOriginal(CarinaBrowserUpProxy.class)
.orElseThrow();
BrowserUpProxy browserUpProxy = proxy.getProxy();
browserUpProxy.enableHarCaptureTypes(CaptureType.REQUEST_CONTENT, CaptureType.RESPONSE_CONTENT);
</code></pre>

<p>There are a lot of possible content types:</p>
<pre><code>CaptureType.RESPONSE_COOKIES
CaptureType.RESPONSE_HEADERS
CaptureType.REQUEST_HEADERS
CaptureType.RESPONSE_CONTENT
CaptureType.REQUEST_CONTENT
...
</code></pre>

<p>They all can be set as comma-separated parameters.</p>
<p>3) You may want to save the captured content into a .har file:</p>
<pre><code>proxy.newHar(HAR_NAME);
//Some testing activity...
//Saving har to a file...
File file = new File(HAR_NAME + &quot;.har&quot;);
Assert.assertNotNull(proxy.getHar(), &quot;Har is NULL!&quot;);
try { 
  proxy.getHar().writeTo(file); 
} catch (IOException e) {
  e.printStackTrace(); 
}
</code></pre>

<p>Your .har file will be created in the project root folder.</p>
<p>4) There are four methods to support request and response interception:</p>
<pre><code>addRequestFilter
addResponseFilter
addFirstHttpFilterFactory
addLastHttpFilterFactory
</code></pre>

<p>To add and configure content filters, look <a href="https://github.com/browserup/browserup-proxy#littleproxy-interceptors">here</a>.</p>
<p>An example of using response filtering can be viewed <a href="https://github.com/zebrunner/carina-demo/blob/c73f1a3c03dd9065c9256f930427a15639475763/src/test/java/com/qaprosoft/carina/demo/ProxySampleTest.java#L304">here</a>.</p>
<h3 id="dealing-with-mitm-and-installing-ssl-certificate-into-your-system">Dealing with MITM and installing SSL certificate into your system:</h3>
<h4 id="for-mac-users">For Mac users:</h4>
<ol>
<li>Go <a href="https://github.com/browserup/browserup-proxy/blob/master/browserup-proxy-core/src/main/resources/sslSupport/ca-certificate-rsa.cer">here</a> and save it as <strong>ca-certificate-rsa.cer</strong>.</li>
<li>
<p>A double click creates a file. The next window should appear:</p>
<p><img alt="Adding ssl certificate" src="../../img/SSLInstallStep1.png" /></p>
</li>
<li>
<p>After authorization, the certificate will be added into your system certificates,  but it's still untrusted:</p>
<p><img alt="Adding ssl certificate" src="../../img/SSLInstallStep2.png" /></p>
</li>
<li>
<p>To make it trusted, double click on it. The following window should appear:</p>
<p><img alt="Adding ssl certificate" src="../../img/SSLInstallStep3.png" /></p>
</li>
<li>
<p>First, click the drop-down menu and select <strong>Always Trust</strong> option. Then close the window (a second authorization will be required):</p>
<p><img alt="Adding ssl certificate" src="../../img/SSLInstallStep4.png" /></p>
</li>
<li>
<p>Make sure the red cross on your certificate turned into a blue one:</p>
<p><img alt="Adding ssl certificate" src="../../img/SSLInstallStep5.png" /></p>
</li>
</ol>
<h3 id="adding-ssl-certificate-into-java-keystore">Adding SSL certificate into Java keystore:</h3>
<p>If you are still receiving the following exception:</p>
<pre><code>javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
</code></pre>

<p>you may need to set up <strong>ca-certificate-rsa.cer</strong> into your Java keystore.</p>
<h4 id="for-mac-and-linux-users">For Mac and Linux users:</h4>
<pre><code>sudo keytool -importcert -alias browserup -file pathToYourCertificateLocation/BrowserUpCertificate.crt -keystore /Library/Java/JavaVirtualMachines/jdk1.8.0_181.jdk/Contents/Home/jre/lib/security/cacerts
</code></pre>

<p>You will be asked to enter your Mac profile password and a Java keystore password (by default: changeit).</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../program_flow/" title="Program flow" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Program flow
              </div>
            </div>
          </a>
        
        
          <a href="../screenshot/" title="Screenshot" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Screenshot
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            2022 Zebrunner, Inc. All Rights Reserved
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
        
        
      
      <a href="https://twitter.com/zebrunner" target="_blank" rel="noopener" title="twitter.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://linkedin.com/company/zebrunner" target="_blank" rel="noopener" title="linkedin.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://facebook.com/zebrunner" target="_blank" rel="noopener" title="facebook.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"/></svg>
      </a>
    
      
      
        
        
      
      <a href="https://t.me/zebrunner" target="_blank" rel="noopener" title="t.me" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="../../assets/javascripts/bundle.5f27aba8.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>